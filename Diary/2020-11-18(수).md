### 2020-11-18

-----
##### 1. 학습 날짜
- 2020-11-18

-----
##### 2. 학습 시간
- 08:00 ~ 20:00

-----
###### 3. 학습 범위 및 주제
- 웹서버 설계 및 구현

-----
##### 4. 동료 학습 방법
- slack

-----
##### 5. 학습 목표
- 서버의 동작 방식을 익히고 그에 맞게 설계 및 구현을 한다.

-----
##### 6. 과제 제출
- https://github.com/get-Pork-Belly/Webserv

-----
##### 7. 상세 학습 내용

- 웹서버
    - 메써드 중 어제 구현하지 못한 PUT과 DELETE를 구현했다. DELETE에서 조금 헷갈렸던 부분은 폴더를 지워줄 때 어떻게 동작할지를 결정하는 것이었다. RFC에는 이 부분에 대해서 명시적으로 나와있지 않아있었다. 따라서 우리는 nginx가 동작하는 방식을 따라하는 방법을 이용했다. 일단 nginx에서는 폴더를 DELETE해주면 폴더안에 존재하는 모든 파일, 폴더들을 한꺼번에 지워준다. 즉 재귀적으로 폴더를 타고 들어가면서 지워야한다는것이다. 재귀는 이전에 문제풀이 공부할 때 익숙해져있어서 그리 어렵지 않게 구현에 성공했다. 이 부분을 수정하고 다른 팀원들이 수정한 부분을 머지까지 다 하고 테스터를 돌렸다.
    - 테스터를 돌리는 것에 에로사항이 조금씩 있었다. 라우팅, 스테이터스 코드 등등 금방 수정이 가능한 부분도 있었지만 아직까지 속도 관련된 부분에서는 빠른 속도를 내지 못하고 있다. 그리고 많은 수의 클라이언트가 동시에 요청을 계속 주면 서버가 터져버리는 문제가 발생했다. 이 문제는 아마도 파일 fd가 제대로 닫혀지지 않아서 생기는 이슈로 판단된다.
    - 속도가 느린 부분에 대해 생각을 해보자면, 테스터 프로그램은 우리한테 청크드로 데이터를 보내준다. 우리는 그 청크드를 일일이 다 받은 다음에 이를 가공하고 또 우리의 CGI 프로그램한테 청크드 처럼 나눠서 보내준다. 나눠서 보내주는 이유는 당연히 파이프를 통해서는 한번에 많은 양을 보내지 못해서이다. 속도에 대한 이슈를 해결할 방법을 빨리 생각해냐애할거같다.... 빨리 끝내고 싶다..

 -----
##### 8. 오늘 학습 내용에 대한 개인적인 총평
- 이제 거의 막바지에 왔다 좀만 더 힘내면 될 것 같다.

-----

##### 9. 다음 학습 계획

- 웹서버 설계 및 구현
