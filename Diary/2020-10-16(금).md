### 2020-10-16

-----
##### 1. 학습 날짜
- 2020-10-16

-----
##### 2. 학습 시간
- 08:00 ~ 20:30

-----
###### 3. 학습 범위 및 주제
- 문제풀이
- nginx의 동작 방식

-----
##### 4. 동료 학습 방법
- slack

-----
##### 5. 학습 목표
- nginx가 어떻게 공자갛는지 알아본다.

-----
##### 6. 과제 제출
- https://github.com/get-Pork-Belly/Webserv
- https://github.com/leecoleecolee/ProblemSolving/tree/sanam

-----
##### 7. 상세 학습 내용

- 가상호스트의 개념.
    - nginx의 설정파일에서 여러개의 서버블록을 만들 수 있다. 이 여러개의 서버 블록은 사실 하나의 호스트에 묶여있는 `가상호스트`다. 이 가상호스트의 개념 때문에 리퀘스트 메시지에서는 `HOST` 헤더가 필요하다.
    - 가상 호스트에 대한 설명을 하자면, 일단 포트에 대해서도 알아야한다. 만약 nginx 설정 파일에 두 개의 서버 블록이 있고 이 서버 블록의 포트가 같다면 어떻게 될까? 이전에 모를 떄는 당연히 nginx가 실행되지 않을 것이라고 생각했다. 하지만 동작은 내 생각돠 달리 잘 작동했다. 이렇게 되는 이유는 두 개 블록의 `server_name`이 달랐기 때문이다. 클라이언트는 리퀘스트를 보낼 때 `URI`를 같이 보내야 한다. 이 URI는 스킴, 도메인 네임, 포트 등의 결합체다. 우리가 도메인 네임을 입력하면 이 도메인 네임은 DNS에 의햇 ㅓIP로 변경된다. 따라서 요청을 받은 서버는 클라이언트가 어떤 도메인, 즉 서버네임으로 접속했는지를 알아야하고 파악한 다음 그에 맞는 서버 블록으로 넘겨줘야한다. 이 떄 등장하는게 바로 HOST. HOST가 없다면 웹서버는 클라이언트가 웹서버에 존재하는 수 많은 가상호스트 중 어디에 요청을 보냈는지 파악하지 못하기 때문에 요청은 에러처리가 날 수밖에 없을 것이다.


-----
##### 8. 오늘 학습 내용에 대한 개인적인 총평
- 하루종일 뭘 했는지... 잘 모르겠다...

-----

##### 9. 다음 학습 계획

- 웹서버 설계 및 구현
- 문제풀이
