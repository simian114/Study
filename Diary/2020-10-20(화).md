### 2020-10-20

-----
##### 1. 학습 날짜
- 2020-10-20

-----
##### 2. 학습 시간
- 08:00 ~ 20:30

-----
###### 3. 학습 범위 및 주제
- 문제풀이

-----
##### 4. 동료 학습 방법
- slack

-----
##### 5. 학습 목표
- 서버를 동작시키고 Request 를 받도록 테스트 한다.

-----
##### 6. 과제 제출
- https://github.com/get-Pork-Belly/Webserv
- https://github.com/leecoleecolee/ProblemSolving/tree/sanam

-----
##### 7. 상세 학습 내용

- 문제풀이
    - 오늘 문제는 푼 무제는 힙을 이용한 저렬과 트라이 라는 새로운 자료구조.
    - 힙
        - 힙은 완전이진트리를 이용해서 구현한 자료구조다. 보통 힙정렬을 할 때 많이 사용한다.
        - 힙은 완전이진트리이고 left, right 좌우의 관계를 나타내는 자료구조가 아니라 상.하 즉 부모 자식간의 관계만을 나타낸 자료구조이다. 따라서 이해하기가 매우 쉽고 구현도 너무나 간단하다.
        - 힙의 가장 중요한 점은 완전이진트리를 이용해서 구현한다는 것이다. 완전이진트리는 배열로 나타났을 때 중간중간 빈 구간이 없고 또한 인덱스를 이용해 부모, 자식간의 관계를 명확하면서도 쉽게 나타낼 수 있다. BST와 다른점이라면 좌우가 아니라 상하의 관계를 나타냈나는 것.
        - 힙은 상하의 관계를 나타내기 때문에 트리의 루트의 값이 가장 작게 된다(최소힙의 경우). 따라서 힙이 가장 많이 쓰이는 힙 정렬같은 경우 힙.pop 을 하게 되면 루트에 있는 값이 빠지게 된다. 이 때의 동작이 아주 신박하다. 배열의 가장 마지막에 있는 값이 루트의 값으로 들어온 다음에 자식 노드들의 값을 비교하고 만약 자신의 값이 더 크다면 자식과 자리를 스왑한다. 이 과정을 다운힙이라고 한다.
        - 만약 값이 푸쉬가 된다면 이때는 배열의 가장 마지막에 값이 들어오고 부모 노드와 값을 비교해서 올라가는 업힙 과정을 갖늗나.
    - 트라이
        - 트라이는 지금까지 쭉 공부해온 이진트리가 아닌 다중트리다.  보통 자연어 처리에 많이 쓰인다고 한다. 특별한 점은 따로 없었다.

- 웹서버
    - 어제 해결하지 못한 문제가 있었는데, select 함수에 관한 문제였다.
    - 이 문제는 함수의 문제가 구조 자체의 문제였다. 따라서 많은 부분에 수정을 해줬다.
    - 간단하게 요약하자면, 수정이전에는 서버매니저에서 select 함수가 fd_set의 이상을 감지하면 모든 Server에 모든 FD를 다 검하가게 했었다. 이렇게 하면 효율에서도 극악이지만, 각 서버는 자신들의 client를 갖는데, 다른 서버의 client를 자신이 처리하는 불상사가 생길 수 있다.
    - 이 문제의 해결 방법은 아래와 같다.
        - 서버 매니저에서 select가 감지가 된다면 manager의 반복문에서 모든 FD를 돌리고, 그 반복문 안에서 FD가 어느 서버의 소켓인지 아니면 어느 서버의 client 소켓인지를 판별하게 한다. 또한 각 서버가 자신들의 client 소켓들을 구별하게 하기 위해 서버는 `_client_sockets` 라는 벡터의 자료 구조를 멤버 변수로 갖게 된다. 

    - 이렇게 하면 해결은 된다.
     
-----
##### 8. 오늘 학습 내용에 대한 개인적인 총평
- 오늘 구조를 바꾼 것은 정말 훌륭하다고 생각한다. ㅎㅎㅎㅎ 하지만 그뿐이다.. 너무 진도가 느리다..

-----

##### 9. 다음 학습 계획

- 웹서버 설계 및 구현
- 문제풀이
