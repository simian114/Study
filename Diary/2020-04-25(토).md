### 2020-04-25(토)

-----

##### 1. 학습 날짜

- 2020-04-25

-----

##### 2. 학습 시간

- 10:00 ~ 13:00

-----

##### 3. 학습 범위 및 주제

- minishell
- process

-----

##### 4. 동료 학습 방법

- slack

-----

##### 5. 학습 목표

- minishell

-----

##### 6. 과제 제출 주소

- https://github.com/simian114/minishell

-----

##### 7. 상세 학습 내용

- minishell 구현
  - 어제 각종 시스템콜을 알아 봤으니 오늘은 슬슬 minishell의 대략적인 틀을 만들 차례였다. 따라서 어떤 방식으로 미니쉘을 구현할지에 대해 연구했다.
  - 첫 번째로 zsh나 bash는 앞에 나오는 글자에 컬러가 들어가 있다. 따라서 내가 구현하는 미니쉘에도 컬러를 주기로했다. 이 부분은 조금 오래전에 누군가 slack random 채널에 printf color넣기 라고 올려주신게 기억이 나서 그 부분을 참고했다. 생각보다 어렵지는 않았다. 먼저 \033 으로 선언을 해준 다음에 색이나 글자체 그리고 글자의 배경색을 지정 할 수  있었다.
  - 두 번째로는 키보드로 입력을 받아오는 과정이었다. 이 부분은 처음부터 꼬인 상태로 시작을 하는 바람에 시간이 조금은 오래 걸렸다. 내가 막힌 부분은 입력을 read로 받아오지 않고 거꾸로 write 함수를 계속 쓰고 있었다는 것이었다. 결국에는 함수를 잘 못 사용했다는 것을 깨달았지만 그 다음은 fd로 0 즉 STDIN을 넣어줘야 하는데 STDOUT인 1을 넣고 있었다. 후에 이 부분을 해결했다.
  - 다음으로는 아직 고민하고 있는 부분인데, 이 minishell은 process를 조작하는 함수가 허용되어있다. 따라서 어느 부분에서 fork 함수, wait 함수 등을 사용할지에 대해 계속 고민했는데 아직까지는 찾지 못했다. 내 짧은 견해로는 단순히 무한 반복의 틀 안에서만 사용하면 될 것 같은데 왜 pdf에서는 프로세스 조작 시스템콜이 허용 함수로 주어진 걸까 분명 뜻이 있을텐데,.. 계속 생각해봐야겠다.
- 실제 코딩 시간
  - 3시간

-----

##### 8. 학습 내용에 대한 개인적인 총평

- 파일 디스크립터를 조작하는 부분은 피신 이후로 오랜만에 하기 때문에 조금은 긴장되고 또 흥분되기도 했다. 이 부분은 분명 어렵지 않다. 그런데 오늘 짧게 끝낼 수 있는 부분을 오랜시간을 들여서 해결했다. 단순히 숫자 0과 1의 차이인 부분도 있었고 함수를 잘 못 사용한 경우도 있었다. 앞으로는 이런 부분에 대해서 사용하는 시간을 조금씩 줄여나가야겠다. 또한 어느 부분에서 fork를 사용해야힐지 아직 감이 안잡히는건 큰 문제인 것 같다. 왜냐하면 코딩을 하기 전에 이러한 부분들을 넓게 봐야지만 나중에 코딩 할 때 더 편하게 작업을 할 수 있는데 이렇게 감도 잡히지 않는다면 막상 정말로 fork 등을 사용해야하는 경우에 직면하게 되면 코드는 아주 지저분해지기 때문이다. 내일은 코딩을 하지 않더라도 큰 그림을 짜도록 노력해봐야겠다.

-----

##### 9. 다음 학습 계획

- minishell 구현 계획하기

