##### 2020-05-06(수)

-----

##### 1. 학습 날짜

- 2020-05-06

------

##### 2. 학습 시간

- 10:00 ~ 17:15

------

##### 3. 학습 범위 및 주제

- quote
- minishell

-----

##### 4. 동료 학습 방법

- slack

-----

##### 5. 학습 목표

- quote 수정
- execve 사용 x

-----

##### 6. 과제 제출 주소

- https://github.com/simian114/minishell

-----

##### 7. 상세 학습 내용

- quote 수정
  - 이 부분만 수정을 한 10번은 넘게 한 것 같다.. 이 부분은 처리하기가 너무 힘들다. 이번에는 아예 처음에 구현했던 방식으로 quote가 아예 input으로 들어오지 않게 구현했다. 하지만 이렇게 하면 $HOME 처럼 환경변수를 사용하는데 문제가 생기므로 플래그를 만들어 두고 플래그가 세워져 있을 때 $ 가 입력이 되면 $를 -2로 input에 저장하는 방법을 사용했다. 이제 모든 함수에서 실행을 할 때 -2가 있으면 전역변수를 사용하는 것으로 알고 진행하면 될 거 같다.
- execve
  - 여러 명령어 중에서 fork()를 사용해야 하는 경우도 있고 그렇지 않은 경우도 있는 것 같다. 특히 execve를 사용해야 하는 경우는 없는 것 같다. 따라서 전체적인 틀에서 대대적인 수정을 했다. 너무 힘들게 구현했는데 다시 지우니까 너무 슬프다...일단 수정 방식은 cd, unset, export 와 같이 환경 변수 또는 현재 프로세스의 위치를 나타내는 함수들은 fork를 이용하지 않고 나머지 함수들은 fork를 사용하고 또 fork 를 사용하더도 execve는 아예 사용하지 않게 바꿨다.
- 실제 코딩 시간 7시간

-----

##### 8. 오늘 학습 내용에 대한 개인적인 총평

- 내 함수들에 대해 전면적인 수정을 해야한다는 것을 어제부터 느꼈다. 그 생각을 했던 어제는 뭔가 너무 아까워서 지우지도 못하고 저러지도 못하고.. 시간을 너무 날려버렸다. 따라서 오늘은 그냥 큰 마음 먹고 많은 부분을 지우고 다시 만들었다.. minishell이 간단한 거 같으면서도 많은 부분에서 정말로 어려운 것 같다. 남은 부분들을 하는 것만 해도 아마 한달은 더 해야 마무리 지을 수 있을거 같다.. 너무 속도가 느리다..

-----

##### 9. 다음 학습 계획

- builtin 함수 다 수정
- 리다이렉션
- 함수에 input자체를 넣지 말고 split하고 $ 처리 한다음에 넣어주는 걸로 수정하자.
- 파이프도 수정
- signal도 컨트롤...