### 2020-04-18(토)

-----

##### 1. 학습 날짜

- 2020-04-18(토)

-----

##### 2. 학습 시간

- 13:00 ~21:30

-----

##### 3. 학습 범위 및 주제

- cub3D
- 알고리즘

-----

##### 4. 동료 학습 방법

- slack(gmoon)

-----

##### 5. 학습 목표

- 질감  구현
- esc 누르면 종료
- 아이템
- 움직임 부드럽게
- 시작위치 지정해주기

-----

##### 6. 과제 제출 주소

- https://github.com/simian114/cub3D

-----

##### 7. 상세 학습 내용

- 내가 구현한 cub3D는 이상하게 부드러운 움직임이 아니라 계속 화면이 리셋되는 느낌이였다. 자세히 살펴보니 나는 화면을 렌더링 할 때 마다 clear 함수로 초기화 해주는 작업을 했는데 이 작업은 하면 안되는거였다. 따라서 이 clear 함수를 없애 줌으로 써 문제를 해결했다.
- esc 누르면 종료
  - 문제 pdf를 보면 esc를 누르면 게임을 종료하라고 한다. 따라서 esc  키를 누르면 바로 exit 함수로 넘어가서 게임이 종료된다.
- 종료할 때 free를 해줘야하나?
  - 이 문제는 게임을 종료할 때 그동안 malloc 해 놓은 메모리를 어떻게 해제를 할지에 대해 알아보다가 생각해보게 되었다. 그동안은 parsing 함수에서 문제가 생기면 바로 할당해 놓은 메모리들을 해제 하느라 코드가 지저분해 졌었다. 하지만 알고보니 exit 함수를 이용해서 프로그램을 종료시키면 그 동안 malloc 해 놓은 메모리들을 OS 자체에서 할당해제 해준다고 한다. 이 부분을 활용하면 함수를 깔끔하게 짤 수 있을거 같다.
- 시작 위치와 방향 지정하기.
  - 지도상에 N W S E 가 나타나면 그 위치에 플레이어가 생성 되어야 하고 값에 따라 방향을 달라지게 만들었다. 처음에는 이상하게 방향을 바꾸면 기존의 움직임이랑 달랐었다. 이 부분은 벡터의 활용에서 실수한 부분이었다. 내가 바라보는 방향을 기준으로 정확히 수직으로 스크린이 있는데 나는 방향을 설정 할 때 바라보는 방향 벡터만 수정했던 것이다. 따라서 스크린까지 변환시켜주니깐 완벽하게 작동하게 되었다.
- 질감표현
  - 어제 해결하지 못한 질감을 오늘 다시 도전했다. 물론 오늘도 해결하지 못했다. 첫 번째 시도했던 방법은 화면에 이미지를 그냥 여러 개 붙여 넣는 방법이었다. 물론 이 방법으로는 하면 절대 안되기 때문에 바로 버렸다.
  - 두 번째로 시도한 방법은 벽의 높이를 기준으로 이미지에서 색 데이터를 가져오는 방법을 이용했다. 이 방법은 다 좋은데 지금 현재 x좌표에서 문제가 생긴다. 이 부분을 어떻게 할 지 감이 잡히지 않는다...
- 실제 코딩 시간
  - 6시간

----

##### 8. 학습 내용에 대한 개인적인 총평

- 오늘은 토요일이니깐 평소보다 많은 시간 공부하지는 않았다. 어느정도 진척이 있긴 했지만 최종적으로 목표한 부분에 대해서는 아무것도 해결하지 못했다.. 나는 정말 한심하다..

-----

##### 9. 다음 학습 계획

- 질감 적용
- 아이템 구현

